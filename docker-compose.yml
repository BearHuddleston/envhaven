# EnvHaven Docker Compose Configuration
#
# Quick Start:
#   1. Copy .env.example to .env: cp .env.example .env
#   2. Edit .env with your values (passwords, API keys)
#   3. Run: docker compose up -d
#
# For full configuration options, see: docs/configuration.md

services:
  envhaven:
    image: ghcr.io/envhaven/envhaven:latest
    container_name: envhaven
    restart: unless-stopped
    ports:
      - "8443:8443"   # code-server web UI
      - "2222:22"     # SSH access
      # Optional: Uncomment for dev server ports (bind to localhost for security)
      # - "127.0.0.1:3000:3000"   # Common app dev port (Next.js, etc.)
      # - "127.0.0.1:5173:5173"   # Vite dev server
      # - "127.0.0.1:8080:8080"   # Alternative app port
    volumes:
      - envhaven-files:/config
      # Optional: Mount local project directory
      # - ./my-project:/config/workspace/my-project
    env_file:
      - .env

volumes:
  envhaven-config:
    driver: local
